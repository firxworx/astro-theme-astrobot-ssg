# Astrobot Docs: Customization & Styling with TailwindCSS

Learn how to customize the tailwindcss configuration and the project's styling to match your palette and desired look-and-feel.

## Tailwind Preset

A customizable and reusable [preset](https://tailwindcss.com/docs/presets) is used to configure and customize tailwind for this project.

The tailwind configuration file `tailwind.config.js` loads the preset at `tailwind/tailwind.preset.js`.

The preset is the "master" configurator that loads all plugins (including the custom **tw-theme-palette** plugin), customizes the theme, and defines base CSS styles.

### Global Styles

With Astro you can define global styles in many places. When working with tailwind we highly recommend centralizing all global style definitions in the preset so they are housed in one spot for maintainability.

Refer to the `addBase({...})` in the preset for global style definitions.

### Custom CSS Classes

The preset defines a handful of custom css classes under `addBase({...})`.

As a convention custom class names are prefixed with `cx-` so they are easily distinguished in the code and to help ensure there are no name collisions with other classes that could be added by tailwind or a plugin.

## Styling the Project

Everything related to tailwind is housed under the `tailwind/` directory and set up for easy customization.

Key files:

- `tailwind/tailwind.preset.js` - tailwind preset that serves as the "master tailwind configuration" for this project
- `tailwind/tailwind.palette.js` - palette definition consumed by the **tw-theme-palette** plugin
- `tailwind/tailwind.shiki.js` - easily customize code fence blocks and syntax highlighting (you can use css variables generated by the **tw-theme-palette** plugin!)
- `tailwind/typography.js` - customize the default styling of tailwind `prose` classes provided by the official tailwindcss/typography plugin.

The code for the **tw-theme-palette** and **tw-project-toolbox** custom plugins are under `tailwind/plugins`.

## tw-theme-palette

The project includes a custom tailwindcss plugin called **tw-theme-palette** to help centralize and manage the definition of palette colors with light/dark theme support.

Given a _palette definition object_ the plugin will automatically:

- generate CSS variables for light and dark theme
- map palette entries under the `content` property to the tailwindcss/typography plugin (tailwind `prose`) so palette colors are consistently applied across the project
- extend the tailwind theme to add corresponding tailwindcss color utility classes for each color that you can use in your project code

The plugin follows a naming convention with capital letter `P` (for _palette_) to namespace the CSS variables and color classes that it manages.

Both CSS variables and color classes automatically match the nesting of the _palette definition object_, with each level separated by a dash.

For example:

```js
{
  header: {
    divider: ['#ff0000', '#00ff00']
  }
}
```

Generates the CSS variable `--P-header-divider` with value `#ff0000` in light mode and `#00ff00` in dark mode.

The corresponding tailwindcss color utility `P-header-divider` can be used in your code:

```tsx
<div className="h-[1px] w-full bg-P-header-divider" />
```

The color will automatically switch in light vs. dark mode because of the underlying definition based on the CSS variable.

The plugin assumes that dark mode is supported via 'class' (as is configured in the preset).

The plugin is further documented with details on how to specify the _palette definition object_ here:

[Astrobot Docs: tw-theme-palette Plugin](./tw-theme-palette-plugin.md)

## `cn()` Helper

The `cn()` helper is a powerful pattern for implementing cusomizable and extensible Astro and React components.

This helper combines the features of the legendary `clsx()` package (which is independently implemented in the code) with the aweseome `tailwind-merge` package to support intelligent overrides of tailwind classes.

This is documented further in [Astrobot Docs: Patterns for Customization, Composability, and Reusability](./astrobot-customization-patterns.md)
